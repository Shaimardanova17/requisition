# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ Backend-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫(Java)

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏—è–º–∏ –≤ –∑–∞—è–≤–∫–µ –Ω–∞ –∑–∞–∫—É–ø–∫—É —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä–æ–≥–∏—Ö –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å–±–æ—Ä–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Swagger](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Swagger)


---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –ø–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É 
REST-—Å–ª–æ–µ–º, —Å–µ—Ä–≤–∏—Å–Ω—ã–º —Å–ª–æ–µ–º –∏ —Å–ª–æ–µ–º –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.

REST Controller -> Service -> Repository (JPA) -> H2 Database

üì° 1. REST API (Frontend ‚Üí Backend)

**–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ REST API.**

 - –ø—Ä–∏—ë–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤;
 - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ JSON ‚Üí DTO;
 - –≤—ã–∑–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Ç–æ–¥–æ–≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è;
 - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–æ—Ç–≤–µ—Ç–æ–≤ (status + body)

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ JPA.

üßæ 2. –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π

–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–º —Å–ª–æ–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:

 - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤;
 - –ø—Ä–æ–≤–µ—Ä–∫—É –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª;
 - —Ä–∞–±–æ—Ç—É —Å –∞–≥—Ä–µ–≥–∞—Ç–∞–º–∏ –∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏;
 - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏;
 - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏.

üîÅ 3. –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å

–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

**PurchaseRequisition** ‚Äî –∑–∞—è–≤–∫–∞ –Ω–∞ –∑–∞–∫—É–ø–∫—É
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–æ–∑–∏—Ü–∏—è–º–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –±–∏–∑–Ω–µ—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
(—Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏, –∏—Ç–æ–≥–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ).

**RequisitionItem** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
–í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¢–ó —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ Aggregate Root:

- –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª,
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç optimistic locking,
- —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º REST-–æ–ø–µ—Ä–∞—Ü–∏–π.


## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Java 8
- Spring Boot 2.7.x
- Spring Data JPA (Hibernate)
- H2 (in-memory database)
- Bean Validation
- Unit 5
- Mockito
- springdoc-openapi-ui (Swagger)


## ‚öôÔ∏è –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
### 1. JVM Build (–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è Java-—Å–±–æ—Ä–∫–∞)

```bash 
   mvn clean package
```
### 1. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
  mvn spring-boot:run
 ```

## ‚öôÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞—è–≤–∫–µ –Ω–∞ –∑–∞–∫—É–ø–∫—É:

```bash
  curl --location 'http://localhost:8080/api/v1/requisitions/1/items' \
--header 'Content-Type: application/json' \
--data '{
    "truCode":"062010.100.000000",
    "truName": "–ì–∞–∑ –ø—Ä–∏—Ä–æ–¥–Ω—ã–π",
    "quantity": 0,
    "mkei": "–õ–∏—Ç—Ä",
    "price": 15000.0,
    "desiredDeliveryDate": "2026-02-26"
}'
````
–û—Ç–≤–µ—Ç: 
```bash
  {
    "id": 3,
    "requisitionId": 1,
    "rowNumber": 2,
    "truCode": "062010.100.000000",
    "truName": "–ì–∞–∑ –ø—Ä–∏—Ä–æ–¥–Ω—ã–π",
    "quantity": 3,
    "mkei": "–õ–∏—Ç—Ä",
    "price": 15000.0,
    "desiredDeliveryDate": "2026-02-26",
    "version": 0
}
````

–û—Ç–≤–µ—Ç, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –Ω–µ DRAFT:

![img_2](src/main/resources/images/img_2.png)

–û—Ç–≤–µ—Ç, –µ—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–ª–∏ –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è truCode:

![img](src/main/resources/images/img.png)

–û—Ç–≤–µ—Ç, –µ—Å–ª–∏ quantity –º–µ–Ω—å—à–µ, —á–µ–º 0:

![img_3](src/main/resources/images/img_3.png)

–û—Ç–≤–µ—Ç, –µ—Å–ª–∏ price –º–µ–Ω—å—à–µ, —á–µ–º 0:

![img_4](src/main/resources/images/img_4.png)

–û—Ç–≤–µ—Ç, –µ—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–ª–∏ —Å—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏:

![img_1](src/main/resources/images/img_1.png)

–û—Ç–≤–µ—Ç, –µ—Å–ª–∏ –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ –¥–ª—è –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã:

![img_5](src/main/resources/images/img_5.png)


### 2. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞—è–≤–∫–µ –Ω–∞ –∑–∞–∫—É–ø–∫—É:

```bash
curl --location --request PATCH 'http://localhost:8080/api/v1/requisitions/1/items/3' \
--header 'Content-Type: application/json' \
--data '{
    "quantity": 5,
    "desiredDeliveryDate": "2026-03-09",
    "version": 2,
    "comment": "–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–ø–¥–µ–π—Ç–∏—Ç—å"
}'
````

–£–¥–∞—á–Ω—ã–π –æ—Ç–≤–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–∏:
```bash
  {
    "id": 3,
    "requisitionId": 1,
    "rowNumber": 2,
    "truCode": "062010.100.000000",
    "truName": "–ì–∞–∑ –ø—Ä–∏—Ä–æ–¥–Ω—ã–π",
    "quantity": 5,
    "mkei": "–õ–∏—Ç—Ä",
    "price": 15000.0000,
    "desiredDeliveryDate": "2026-03-09",
    "version": 0
}
````

### 3. –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞—è–≤–∫–µ –Ω–∞ –∑–∞–∫—É–ø–∫—É:

```bash
curl --location --request DELETE 'http://localhost:8080/api/v1/requisitions/1/items/3' \
--data ''
````

–û—Ç–≤–µ—Ç –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –≤ –∑–∞—è–≤–∫–µ:

![img_6](src/main/resources/images/img_6.png)


### 4. Summary –ø–æ –∑–∞—è–≤–∫–µ –Ω–∞ –∑–∞–∫—É–ø–∫—É:

```bash
curl --location 'http://localhost:8080/api/v1/requisitions/1/summary'
````
–û—Ç–≤–µ—Ç –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ summary:

![img_7](src/main/resources/images/img_7.png)

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —Ä–∞—Å—á–µ—Ç–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞ REQUISITION_ITEM –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
![img_8](src/main/resources/images/img_8.png)

URL Swagger:
```bash
http://localhost:8080/swagger-ui.html
````
![img_9](src/main/resources/images/img_9.png)

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Swagger:
  ![img_10](src/main/resources/images/img_10.png)

![img_11](src/main/resources/images/img_11.png)

URL H2:
```bash
http://localhost:8080/h2-console
````







